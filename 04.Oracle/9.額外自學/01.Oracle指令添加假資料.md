- 建立會員資料，並自動生成詳細資訊

```sql
----------刪除表----------
DROP TABLE MEM_MAIN;        -- 會員主檔
----------會員主檔----------
CREATE TABLE MEM_MAIN(
    MEM_ID VARCHAR2(20) PRIMARY KEY NOT NULL,
    FIRST_NAME VARCHAR2(20)  ,
    LAST_NAME VARCHAR2(20)  ,
    NICKNAME VARCHAR2(20)  ,
    TEL VARCHAR2(10)  ,
    MOB VARCHAR2(10)  ,
    EMAIL VARCHAR2(100)  NOT NULL,
    PASSWORD VARCHAR2(20)  ,
    SHOP_NAME VARCHAR2(100)  ,
    CREDIT_CARD VARCHAR2(16)  ,
    CREDIT_CARD_EXPIRES	DATE  ,
    CREDIT_CARD_CVC VARCHAR2(10)  ,
    BANK_ACCOUNT VARCHAR2(100)  ,
    EST_TIME TIMESTAMP DEFAULT CURRENT_TIMESTAMP  ,
    ADDRESS VARCHAR2(300)  ,
    AUTHORITY NUMBER(10)
);
----------會員主檔資料----------
DROP SEQUENCE MEM_ID;
DROP SEQUENCE MEM_FIRST_NAME;
DROP SEQUENCE MEM_LAST_NAME;
DROP SEQUENCE MEM_NICKNAME;
DROP SEQUENCE MEM_TEL;
DROP SEQUENCE MEM_MOB;
DROP SEQUENCE MEM_CREDIT_CARD;
DROP SEQUENCE MEM_CREDIT_CARD_CVC;
DROP SEQUENCE MEM_BANK_ACCOUNT;

-- 建立序號格式
CREATE SEQUENCE MEM_ID;
CREATE SEQUENCE MEM_FIRST_NAME;
CREATE SEQUENCE MEM_LAST_NAME;
CREATE SEQUENCE MEM_NICKNAME;
CREATE SEQUENCE MEM_TEL;
CREATE SEQUENCE MEM_MOB;
CREATE SEQUENCE MEM_CREDIT_CARD;
CREATE SEQUENCE MEM_CREDIT_CARD_CVC;
CREATE SEQUENCE MEM_BANK_ACCOUNT;

--------------------
begin
  for v_rlt in 0..9 loop
    -- 建立資料: 隨機權限
    INSERT INTO MEM_MAIN(
        MEM_ID,
        FIRST_NAME,
        LAST_NAME,
        NICKNAME,
        TEL,
        MOB,
        EMAIL,
        PASSWORD,
        SHOP_NAME,
        CREDIT_CARD,
        CREDIT_CARD_EXPIRES	,
        CREDIT_CARD_CVC	,
        BANK_ACCOUNT,
        ADDRESS,
        AUTHORITY
    )
    VALUES (
        'MEM' || LPAD(MEM_ID.NEXTVAL, 5, '0'),
        'WANG' || LPAD(MEM_FIRST_NAME.NEXTVAL, 2, '0'),
        'LISA' || LPAD(MEM_LAST_NAME.NEXTVAL, 2, '0'),
        'NICKNAME' || LPAD(MEM_NICKNAME.NEXTVAL, 2, '0'),
        '0355662' || LPAD(MEM_TEL.NEXTVAL, 2, '0'),
        '09' || LPAD(MEM_MOB.NEXTVAL, 8, '0'),
        dbms_random.string('a', 5) || '@yahoo.com.tw',
        dbms_random.string('x', 3) || dbms_random.string('a', 3) || dbms_random.string('x', 3),
        'MY_SHOP_' || dbms_random.string('x', 3),
        '552061757383' || LPAD(MEM_CREDIT_CARD.NEXTVAL, 2, '0'),
        TO_DATE(to_char(sysdate,'yyyymm'),'yyyy-mm'),
        LPAD(MEM_CREDIT_CARD_CVC.NEXTVAL, 3, '0'),
        '012128400591' || LPAD(MEM_BANK_ACCOUNT.NEXTVAL, 2, '0'),
        'ADDRESS_' || dbms_random.string('x', 3),
        dbms_random.value(0,3)
    );
  end loop;
end;
```

# 隨機所有資料

```sql
begin
  for v_rlt in 0..9 loop
    -- 建立資料: 隨機權限
    INSERT INTO MEM_MAIN(
        MEM_ID,
        FIRST_NAME,
        LAST_NAME,
        NICKNAME,
        TEL,
        MOB,
        EMAIL,
        PASSWORD,
        SHOP_NAME,
        CREDIT_CARD,
        CREDIT_CARD_EXPIRES	,
        CREDIT_CARD_CVC	,
        BANK_ACCOUNT,
        ADDRESS,
        AUTHORITY
    )
    VALUES (
        'MEM' || LPAD(MEM_ID.NEXTVAL, 5, '0'),
        'WANG' || LPAD(MEM_FIRST_NAME.NEXTVAL, 2, '0'),
        'LISA' || LPAD(MEM_LAST_NAME.NEXTVAL, 2, '0'),
        'NICKNAME' || LPAD(MEM_NICKNAME.NEXTVAL, 2, '0'),
        '0355662' || LPAD(MEM_TEL.NEXTVAL, 2, '0'),
        '09' || LPAD(MEM_MOB.NEXTVAL, 8, '0'),
        dbms_random.string('a', 5) || '@yahoo.com.tw',
        dbms_random.string('x', 3) || dbms_random.string('a', 3) || dbms_random.string('x', 3),
        'MY_SHOP_' || dbms_random.string('x', 3),
        '552061757383' || LPAD(MEM_CREDIT_CARD.NEXTVAL, 2, '0'),
        TO_DATE(to_char(sysdate,'yyyymm'),'yyyy-mm'),
        LPAD(MEM_CREDIT_CARD_CVC.NEXTVAL, 3, '0'),
        '012128400591' || LPAD(MEM_BANK_ACCOUNT.NEXTVAL, 2, '0'),
        'ADDRESS_' || dbms_random.string('x', 3),
        dbms_random.value(0,3)
    );
  end loop;
end;
```

- **stringA || stringB** : 字串拼接
- **dbms_random.string('a', 5)**: 隨機大、小寫字母
- **dbms_random.string('x', 5)**: 數字、大寫字母
- **dbms_random.value(0,3)**: 隨機亂數
- **sysdate**: 系統時間
- **LPAD(inputNumber, 2, '0')**: 拼接直到補滿兩個數
- **DROP SEQUENCE sequenceName**: 刪除自動序號工具

# Oracle 的 for 迴圈

```sql
begin
  for v_rlt in numStart..numEnd loop

  ...你要執行的動作...

  end loop;
end;
```

- **numStart...numEnd**: 若寫 0...3 即為讓迴圈執行 <u>0, 1, 2, 3</u> ，即 4 次

---

- [oracle 隨機函式 random(); 生產 UUID](https://www.itread01.com/content/1545271036.html)
- [Oracle 中 date 和 timestamp 之间的转换](https://blog.csdn.net/joyksk/article/details/72844375)
- [ORACLE 时间字段取年、月、日、季度](https://blog.csdn.net/flyhaze/article/details/3457597)
- [How to insert a timestamp in Oracle?](https://stackoverflow.com/questions/5420833/how-to-insert-a-timestamp-in-oracle)
- [Database SQL Reference](https://docs.oracle.com/cd/B19306_01/server.102/b14200/toc.htm)
- [Oracle PL/SQL 之 LOOP 循环控制语句](https://www.cnblogs.com/richardzhu/p/3455806.html)
- [Oracle SQL 學習筆記本](http://mylinoraclesql.blogspot.com/2014/02/drop-sequence.html)
- [Oracle 之主键(Primary Key)用法详解](https://blog.csdn.net/jssg_tzw/article/details/40864635)

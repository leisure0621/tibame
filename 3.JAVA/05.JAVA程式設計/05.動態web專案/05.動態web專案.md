# 上課投影片

<p>
  <img src="./image/05-05_01_p40.png">
</p>

<p>
  <img src="./image/05-05_02_code.png">
</p>

<p>
  <img src="./image/05-05_03_code.png">
</p>

<p>
  <img src="./image/05-05_04_p149.png">
</p>

<p>
  <img src="./image/05-05_11_p285.png">
</p>

- 上課實作的部分需要多練習

<p>
  <img src="./image/05-05_12_p41.png">
</p>

<p>
  <img src="./image/05-05_13_p251.png">
</p>

<p>
  <img src="./image/05-05_14_p46.png">
</p>

<p>
  <img src="./image/05-05_15_p295.png">
</p>

- 步驟 1 一定要會

<p>
  <img src="./image/05-05_16_p296.png">
</p>

<p>
  <img src="./image/05-05_17_p297.png">
</p>

<p>
  <img src="./image/05-05_18_p38.png">
</p>

<p>
  <img src="./image/05-05_19_p47.png">
</p>

# 動態 web 專案

<p>
  <img src="./image/05-05_20_p375.png">
</p>

<p>
  <img src="./image/05-05_21_p376.png">
</p>

<p>
  <img src="./image/05-05_23_p377.png">
</p>

<p>
  <img src="./image/05-05_23_p379.png">
</p>

<p>
  <img src="./image/05-05_25_p381.png">
</p>

<p>
  <img src="./image/05-05_26_p382.png">
</p>

- `部屬檔` 設定比 `*.java` 中層級大

  需要注意的是部屬檔與 URL Mapping 有衝突時錯誤信息很難查找，所以此部分設定一定要小心

<p>
  <img src="./image/05-05_22_p385.png">
</p>

<p>
  <img src="./image/05-05_27_p386.png">
</p>

<p>
  <img src="./image/05-05_28_p387.png">
</p>

- xml 目的
  - 實體化
  - 前置
  - 延伸
  - 預設路徑對應

<p>
  <img src="./image/05-05_29_p389.png">
</p>

<p>
  <img src="./image/05-05_30_p393.png">
</p>

<p>
  <img src="./image/05-05_24_p395.png">
</p>

<p>
  <img src="./image/05-05_31.png">
</p>

<p>
  <img src="./image/05-05_33.png">
</p>

<p>
  <img src="./image/05-05_32.png">
</p>

<p>
  <img src="./image/05-05_34_p42.png">
</p>

<p>
  <img src="./image/05-05_35_p46.png">
</p>

<p>
  <img src="./image/05-05_36_p293.png">
</p>

<p>
  <img src="./image/05-05_37_code.png">
</p>

<p>
  <img src="./image/05-05_38_p256.png">
</p>

- 單一專案重載

<p>
  <img src="./image/05-05_40.png">
</p>

- server.xml 每個服務器都有

<p>
  <img src="./image/05-05_39_p292.png">
</p>

<p>
  <img src="./image/05-05_41_p31.png">
</p>

<p>
  <img src="./image/05-05_42_p73.png">
</p>

<p>
  <img src="./image/05-05_42_p73.png">
</p>

<p>
  <img src="./image/05-05_43_p35.png">
</p>

<p>
  <img src="./image/05-05_44_p150.png">
</p>

<p>
  <img src="./image/05-05_45_p76.png">
</p>

- 紅點是實體變數，到 run 中後被更新

<p>
  <img src="./image/05-05_46_p10.png">
</p>

<p>
  <img src="./image/05-05_48_p11.png">
</p>

- New 0 表示程式都沒運行過
- Destroyed 0 表示伺服器沒有關過

<p>
  <img src="./image/05-05_49_p43.png">
</p>

<p>
  <img src="./image/05-05_50_p44.png">
</p>

- - 如果說道 service 相當於說 doGet、goPost
  - tomcat 不支持系統管理工具卸載
  - 伺服器完成所有請求，就表示當下正在執行的所有功能都完成時才會 shutdown (保證系統不會損毀)
  - p.38、p.39 主要說明部屬描述檔，即建立實體之始

<p>
  <img src="./image/05-05_47_p45.png">
</p>

<p>
  <img src="./image/05-05_51_p42.png">
</p>

<p>
  <img src="./image/05-05_52_p17.png">
</p>

<p>
  <img src="./image/05-05_53_p17.png">
</p>

<p>
  <img src="./image/05-05_54_p48.png">
</p>

- P52 的空介面以廢棄

# WAR 打包步驟

- 清除不必要檔案

  - `*.bak`

  - `*.bak.*`

- `進階` > `DOS 指令` > `勾選 "顯示 DOS 視窗"` (測試是否可用)

  - 指令: `jar`

  - 工作目錄: `%p`

- `進階` > `DOS 指令`

  - 指令: `jar cvf IBM.war *`

  - 工作目錄: `C:\EA102_WebApp\apache-tomcat-9.0.35\webapps\IBM_9`

# WAR 生成步驟

1. 設定命令環境

<p>
  <img src="./image/05-05_05.png">
</p>

2. 輸入設定

<p>
  <img src="./image/05-05_06.png">
</p>

3. 執行打包

<p>
  <img src="./image/05-05_07.png">
</p>

4. war 雙擊兩下就會解壓縮

<p>
  <img src="./image/05-05_08_code.png">
</p>

5. `運行狀態(startup.bat)`中 `專案名.war` 刪除時， `專案名(資料夾)` 就會被`同步刪除`

   1. 需要在`非運行狀態(shutdown.bat)`才可

6. 檔案壓縮後解壓的路徑

<p>
  <img src="./image/05-05_09.png">
</p>

7. 匯出時勾選 `Export source files` ，才會將 `*.java` 打包在裏頭

<p>
  <img src="./image/05-05_10.png">
</p>

# 空值完整判斷

- 用法說明

```java
(name == null) // 錯誤用法
(name.trim().length() == 0) // 正確，JDK 1.0，常見(不建議)
(name.trim().isEmpty()) // 正確，JDK 1.6，推薦
(name.trim().equals("") == 0) // 正確，JDK 1.0，不推薦
```

- 完整用法

```java
if(name != null){ // 判斷是否有資料
  if(name.trim().isEmpty()){ // 判斷值是否為空
  }
}
```

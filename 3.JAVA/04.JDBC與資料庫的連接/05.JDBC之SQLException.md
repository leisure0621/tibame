# SQLException

- 分為 SQLException、SQLWarning 與 `DataTruncation` (`資料截斷`，取到不完整的資料)
- SQLException

  - getMessage() – 足以應付大部份情況(`printStackTrace 也很好用`)
  - getSQLState() - `少用`，各家資料庫廠商的狀態說明跟狀態碼都不一樣
  - getErrorCode() - `少用`，各家資料庫廠商的狀態說明跟狀態碼都不一樣
  - getNextException()

- SQLWarning 與 DataTruncation

  - SQLWarning 不會中止程式執行,也不常出現
  - Connection、ResultSet 與 Statement 會有 SQLWarning
  - 與 SQLException 一樣,也是上面三種方法可取得
  - getNextWarning()

- Oracle 沒有支援 SQLWarning 的警告

# JDBC 版本

- JDBC 1.0 vs JDBC 2.0
  - ResultSet 可以指定移動游標筆數
  - 可以使用 Java 指令更新資料,替代 SQL 指令
  - 可一次下達多個 SQL 指令
  - 支援 SQL3 的資料型態
- JDBC 3.0 (J2SE1.4 / 1.5)

  - 當新增資料時,允許將資料庫自動產生的主鍵值進行綁定到 Statement 或是 PreparedStatement (參考先前範例),再透過 ResultSet 的 getGeneratedKeys()方法取得綁定的主鍵值
  - 與各種 Java 應用程式結合,讓開發快速與應用程式效能都有所提昇
  - (`用介面`)`規範`與規定了下述類別與介面支援資料庫的連線池實作

    javax.sql.ConnectionEvent
    javax.sql.ConnectionPoolDataSource
    javax.sql.PooledConnection
    java.sql.ConnectionEventListener

- JDBC 4.0 (J2SE 6)

  1.  **簡化資料庫驅動載入**

      JDBC 4.0 後,可以不用再呼叫 Class.forName 方法載入驅動但在包裝 JDBC 驅動程式的 JAR 檔裡,必須額外有一個「`META-INF/services/java.sql.Driver`」的檔案,並在
      該檔案裡註明驅動程式的類別名稱

  2.  **SQLException 功能增強**

      SQLException 新增了幾個以`Throwable`為建構子參數的建構子,就可以將任何其它類型的例外也包裝成 SQLException 再做後續處理，SQLException 也同時實作了`Iterable<Throwable>`介面,可以搭配 for-each 取出

  3.  **BLOB 與 CLOB 的支援**

      PreparedStatement 新增了 setBlob()與 setClob()方法使用 InputStream 將位元資料送入資料庫
      使用 Reader 將文字資料送入資料庫

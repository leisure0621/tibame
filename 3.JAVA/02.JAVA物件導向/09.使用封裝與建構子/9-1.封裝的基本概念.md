<h1 id="top">目錄</h1>

- [1. 封裝的基本概念](#s1)
- [2. 封裝範例](#s2)
- [3. 總結](#s3)

---

# <a id="s1" class="md-title" href="#top">1. 封裝的基本概念</a>

- 封裝的基本就是類別

- 做到資料隱藏與存取限制，當我們將設計好料與方法包在物件裡，都須透過該物件的成員方法對資料進行存取動作，且其他程式無法直接對物件的資料存取

- Java 使用了 `private` 、 `default` 、 `protected` 與 `public` 四種**存取修飾子**(Modifier)做為封裝權限的等級

- 開放等級由大至小: `public` > `protected` > `default` > `private`

  <table>
  <thead>
  <tr>
  <th style="text-align:left"></th>
  <th style="text-align:center">the Same Class</th>
  <th style="text-align:center">the Same Package</th>
  <th style="text-align:center">SubClass</th>
  <th style="text-align:center">Universe</th>
  <th style="text-align:left">說明</th>
  </tr>
  </thead>
  <tbody>
  <tr>
  <td style="text-align:left">public (公共)</td>
  <td style="text-align:center">√</td>
  <td style="text-align:center">√</td>
  <td style="text-align:center">√</td>
  <td style="text-align:center">√</td>
  <td style="text-align:left">所有類別皆能存取</td>
  </tr>
  <tr>
  <td style="text-align:left">protected (保護)</td>
  <td style="text-align:center">√</td>
  <td style="text-align:center">√</td>
  <td style="text-align:center">√</td>
  <td style="text-align:center"></td>
  <td style="text-align:left"><a href="#">同套件下類別</a>或<a href="#">所有其子類別都可存取</a></td>
  </tr>
  <tr>
  <td style="text-align:left">default (預設)</td>
  <td style="text-align:center">√</td>
  <td style="text-align:center">√</td>
  <td style="text-align:center"></td>
  <td style="text-align:center"></td>
  <td style="text-align:left">同套件下的類別皆可存取</td>
  </tr>
  <tr>
  <td style="text-align:left">private (私有)</td>
  <td style="text-align:center">√</td>
  <td style="text-align:center"></td>
  <td style="text-align:center"></td>
  <td style="text-align:center"></td>
  <td style="text-align:left">只有該類別內部才可存取</td>
  </tr>
  </tbody>
  </table>

- [中文說明](https://www.runoob.com/java/java-modifier-types.html#protected-desc)

  <table>
  <thead>
  <tr>
  <th style="text-align:center">修饰符</th>
  <th style="text-align:center">当前类</th>
  <th style="text-align:center">同一包内</th>
  <th style="text-align:center">子孙类(同一包)</th>
  <th style="text-align:center">子孙类(不同包)</th>
  <th style="text-align:center">其他包</th>
  </tr>
  </thead>
  <tbody>
  <tr>
  <td style="text-align:center">public</td>
  <td style="text-align:center">√</td>
  <td style="text-align:center">√</td>
  <td style="text-align:center">√</td>
  <td style="text-align:center">√</td>
  <td style="text-align:center">√</td>
  </tr>
  <tr>
  <td style="text-align:center">protected</td>
  <td style="text-align:center">√</td>
  <td style="text-align:center">√</td>
  <td style="text-align:center">√</td>
  <td style="text-align:center">√</td>
  <td style="text-align:center"></td>
  </tr>
  <tr>
  <td style="text-align:center">default</td>
  <td style="text-align:center">√</td>
  <td style="text-align:center">√</td>
  <td style="text-align:center">√</td>
  <td style="text-align:center"></td>
  <td style="text-align:center"></td>
  </tr>
  <tr>
  <td style="text-align:center">private</td>
  <td style="text-align:center">√</td>
  <td style="text-align:center"></td>
  <td style="text-align:center"></td>
  <td style="text-align:center"></td>
  <td style="text-align:center"></td>
  </tr>
  </tbody>
  </table>

- 存取修飾子適用場合(區域變數沒有存取修飾子)

  - 因為方法變數(區域變數)的存取權限已經由他所屬的方法決定好了，所以在方法變數上使用存取修飾子就沒有意義

  <table>
  <thead>
  <tr>
  <th style="text-align:left"></th>
  <th style="text-align:center">類別</th>
  <th style="text-align:center">實體變數</th>
  <th style="text-align:center">方法</th>
  <th style="text-align:center">建構子</th>
  </tr>
  </thead>
  <tbody>
  <tr>
  <td style="text-align:left">public</td>
  <td style="text-align:center">√</td>
  <td style="text-align:center">√</td>
  <td style="text-align:center">√</td>
  <td style="text-align:center">√</td>
  </tr>
  <tr>
  <td style="text-align:left">protected</td>
  <td style="text-align:center"></td>
  <td style="text-align:center">√</td>
  <td style="text-align:center">√</td>
  <td style="text-align:center">√</td>
  </tr>
  <tr>
  <td style="text-align:left">default</td>
  <td style="text-align:center">√</td>
  <td style="text-align:center">√</td>
  <td style="text-align:center">√</td>
  <td style="text-align:center">√</td>
  </tr>
  <tr>
  <td style="text-align:left">private</td>
  <td style="text-align:center"></td>
  <td style="text-align:center">√</td>
  <td style="text-align:center">√</td>
  <td style="text-align:center">√</td>
  </tr>
  </tbody>
  </table>

- 沒有任何存取修飾關鍵字就是預設(default)的範例，不用也不要在前方填寫 default (不是用 default 關鍵字)

  ```java
  class PenTest{
    ...
  }
  ```

- 實體變數

  ```java
  class PenTest{
    private String brand;
    double price;
  }
  ```

# <a id="s2" class="md-title" href="#top">2. 封裝範例</a>

- 未使用封裝的情況，請以多人(團隊)使用角度來思考此問題

  - 在 getter/setter 方法裡**實現對資料檢查或過濾的邏輯**

  ```java
  public class PenGood {
    private String brand;
    private double price;

    public String getBrand() {
      return brand;
    }
    public void setBrand(String brandXXX) {
      brand = brandXXX;
    }
    public double getPrice() {
      return price;
    }
    public void setPrice(double priceXXX) {
      if(priceXXX > 0)
        price = priceXXX;
      else
        System.out.println("請確認售價設定");
    }
  }
  ```

  ***

  ```java
  public class PenTestGood {
    public static void main(String[] args) {
      PenGood p = new PenGood();
      p.setBrand("SKB");
      p.setPrice(-10); // 會跳出 "請確認售價設定" ，因價格不會有負數

      System.out.println(p.getBrand());
      System.out.println(p.getPrice());
    }
  }
  ```

# <a id="s3" class="md-title" href="#top">3. 總結</a>

- 理想的程式碼來說，大多數甚至全部變數 (Variable) 都會是 private 修飾子
- 這表示他們無法直接被自己所屬以外的類別修改或查詢，只能藉由自己類別中的方法來修改或查看

---

參考鏈接

- [package 與存取修飾](https://openhome.cc/Gossip/JavaEssence/PackageAndModifier.html)
- [Java 修飾符 private,default,protected,public 區別的再辨識](https://www.itread01.com/p/1432484.html)

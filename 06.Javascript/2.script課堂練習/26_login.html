<!DOCTYPE html>
<html>
  <head>
    <title>首頁登入</title>
    <style type="text/css">
      body {
        background-color: #fffaf0;
        font-family: Arial;
      }
      header {
        background-color: #243238;
        color: #fff;
        top: 0;
        left: 0;
        position: fixed;
        width: 100%;
        height: 65px;
        z-index: 3;
      }
      header .logo {
        display: inline-block;
        width: 60px;
      }
      header .logo img {
        position: fixed;
        top: 14px;
        left: 31px;
        width: 40px;
      }
      header .search {
        text-align: center;
        line-height: 65px;
        display: inline-block;
        padding-left: 40px;
      }
      header .search input {
        width: 250px;
        height: 30px;
        background-color: #90a4ae;
        border: 0px;
        border-radius: 5px;
        padding-left: 15px;
        font-size: 14px;
      }
      header .search input::placeholder {
        color: #fff;
      }
      header .search input:focus {
        background-color: #fff;
      }
      header .name {
        display: inline-block;
        float: right;
        line-height: 65px;
        padding-right: 20px;
      }
      header .action {
        display: inline-block;
        float: right;
        padding-right: 20px;
      }
      header .action {
        margin: 15px auto;
      }
      header .action button {
        background-color: transparent;
        color: #fff;
        width: 100px;
        height: 35px;
        border: 1px solid #fff;
        border-radius: 5px;
      }
      header .action button:hover {
        background-color: #fff;
        color: #243238;
        cursor: pointer;
      }
      header .name span {
        margin-left: 3px;
      }

      .container {
        margin-top: 85px;
        text-align: center;
      }
      .cards {
        padding: 10px;
      }
      .card {
        display: inline-block;
        width: 31%;
        padding: 5px;
        margin: 5px;
      }
      .card .cover {
        height: 500px;
        background-color: lightgray;
        position: relative;
        background-size: auto 100%;
        background-position: center center;
      }
      .modal {
        position: fixed;
        background-color: rgba(28, 23, 40, 0.8);
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        z-index: 10;
        animation: showup 1s linear;
      }
      .modal table {
        font-family: arial, sans-serif;
        border-collapse: collapse;
        position: fixed;
        width: 300px;
        height: 155px;
        margin: auto;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        background-color: pink;
      }
      .modal table td,
      .modal table th {
        border: 1px solid #dddddd;
        text-align: left;
        padding: 8px;
      }
      .action1 {
        display: inline-block;
        float: left;
        -webkit-user-select: none;
      }
      .action2 {
        display: inline-block;
        float: right;
      }
      @keyframes showup {
        0% {
          opacity: 0;
        }
        50% {
          opacity: 0.5;
        }
        100% {
          opacity: 1;
        }
      }
    </style>
  </head>
  <body>
    <header>
      <div class="logo">
        <a href="https://about.gitlab.com/">
          <img
            src="https://s0.60logo.com/uploads/items/images/soft/171209/gitlab.svg"
          />
        </a>
      </div>
      <div class="search">
        <input type="text" name="" placeholder="Search..." />
      </div>
      <div class="action">
        <button id="logoutBtn" style="display: none;">登出</button>
        <button id="loginBtn">登入</button>
      </div>
      <div class="name"><span id="username"></span><span>您好！</span></div>
    </header>
    <div class="container">
      <div class="cards">
        <div class="card">
          <div
            class="cover"
            style="background-image: url('http://placekitten.com/800/600');"
          ></div>
          <div class="card-body">
            <p>隨機貓咪圖片</p>
            <p>
              Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do
              eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut
              enim ad minim veniam, quis nostrud exercitation ullamco laboris
              nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in
              reprehenderit in voluptate velit esse cillum dolore eu fugiat
              nulla pariatur. Excepteur sint occaecat cupidatat non proident,
              sunt in culpa qui officia deserunt mollit anim id est laborum.
            </p>
          </div>
        </div>
        <div class="card">
          <div
            class="cover"
            style="background-image: url('http://placekitten.com/800/601');"
          ></div>
          <div class="card-body">
            <p>隨機貓咪圖片</p>
            <p>
              Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do
              eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut
              enim ad minim veniam, quis nostrud exercitation ullamco laboris
              nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in
              reprehenderit in voluptate velit esse cillum dolore eu fugiat
              nulla pariatur. Excepteur sint occaecat cupidatat non proident,
              sunt in culpa qui officia deserunt mollit anim id est laborum.
            </p>
          </div>
        </div>
        <div class="card">
          <div
            class="cover"
            style="background-image: url('http://placekitten.com/800/602');"
          ></div>
          <div class="card-body">
            <p>隨機貓咪圖片</p>
            <p>
              Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do
              eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut
              enim ad minim veniam, quis nostrud exercitation ullamco laboris
              nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in
              reprehenderit in voluptate velit esse cillum dolore eu fugiat
              nulla pariatur. Excepteur sint occaecat cupidatat non proident,
              sunt in culpa qui officia deserunt mollit anim id est laborum.
            </p>
          </div>
        </div>
        <div class="card">
          <div
            class="cover"
            style="background-image: url('http://placekitten.com/800/603');"
          ></div>
          <div class="card-body">
            <p>隨機貓咪圖片</p>
            <p>
              Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do
              eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut
              enim ad minim veniam, quis nostrud exercitation ullamco laboris
              nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in
              reprehenderit in voluptate velit esse cillum dolore eu fugiat
              nulla pariatur. Excepteur sint occaecat cupidatat non proident,
              sunt in culpa qui officia deserunt mollit anim id est laborum.
            </p>
          </div>
        </div>
        <div class="card">
          <div
            class="cover"
            style="background-image: url('http://placekitten.com/800/604');"
          ></div>
          <div class="card-body">
            <p>隨機貓咪圖片</p>
            <p>
              Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do
              eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut
              enim ad minim veniam, quis nostrud exercitation ullamco laboris
              nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in
              reprehenderit in voluptate velit esse cillum dolore eu fugiat
              nulla pariatur. Excepteur sint occaecat cupidatat non proident,
              sunt in culpa qui officia deserunt mollit anim id est laborum.
            </p>
          </div>
        </div>
        <div class="card">
          <div
            class="cover"
            style="background-image: url('http://placekitten.com/800/605');"
          ></div>
          <div class="card-body">
            <p>隨機貓咪圖片</p>
            <p>
              Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do
              eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut
              enim ad minim veniam, quis nostrud exercitation ullamco laboris
              nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in
              reprehenderit in voluptate velit esse cillum dolore eu fugiat
              nulla pariatur. Excepteur sint occaecat cupidatat non proident,
              sunt in culpa qui officia deserunt mollit anim id est laborum.
            </p>
          </div>
        </div>
        <div class="card">
          <div
            class="cover"
            style="background-image: url('http://placekitten.com/800/606');"
          ></div>
          <div class="card-body">
            <p>隨機貓咪圖片</p>
            <p>
              Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do
              eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut
              enim ad minim veniam, quis nostrud exercitation ullamco laboris
              nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in
              reprehenderit in voluptate velit esse cillum dolore eu fugiat
              nulla pariatur. Excepteur sint occaecat cupidatat non proident,
              sunt in culpa qui officia deserunt mollit anim id est laborum.
            </p>
          </div>
        </div>
        <div class="card">
          <div
            class="cover"
            style="background-image: url('http://placekitten.com/800/607');"
          ></div>
          <div class="card-body">
            <p>隨機貓咪圖片</p>
            <p>
              Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do
              eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut
              enim ad minim veniam, quis nostrud exercitation ullamco laboris
              nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in
              reprehenderit in voluptate velit esse cillum dolore eu fugiat
              nulla pariatur. Excepteur sint occaecat cupidatat non proident,
              sunt in culpa qui officia deserunt mollit anim id est laborum.
            </p>
          </div>
        </div>
        <div class="card">
          <div
            class="cover"
            style="background-image: url('http://placekitten.com/800/608');"
          ></div>
          <div class="card-body">
            <p>隨機貓咪圖片</p>
            <p>
              Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do
              eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut
              enim ad minim veniam, quis nostrud exercitation ullamco laboris
              nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in
              reprehenderit in voluptate velit esse cillum dolore eu fugiat
              nulla pariatur. Excepteur sint occaecat cupidatat non proident,
              sunt in culpa qui officia deserunt mollit anim id est laborum.
            </p>
          </div>
        </div>
      </div>
    </div>

    <div id="myLogin" class="modal" style="display: none;">
      <form>
        <table>
          <tbody>
            <tr>
              <td>帳號：</td>
              <td>
                <input type="text" name="account" id="account" />
              </td>
            </tr>
            <tr>
              <td>密碼：</td>
              <td>
                <input type="text" name="pwd" id="pwd" />
              </td>
            </tr>
            <tr>
              <td colspan="2">
                <label class="action1">
                  <input id="rememberMe" type="checkbox" />
                  Remember Me
                </label>
                <div class="action2">
                  <button id="confirm">確認登入</button>
                  <button id="cancel">取消登入</button>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </form>
    </div>

    <script type="text/javascript">
      // 題目：在UI上，做一個首頁的畫面，點選登入，可顯示登入的內容，登入後會顯示登入者姓名，並可進行登出
      // 題目（進階）：利用localStorage，做一個RememberMe的功能，可以記錄登入過的帳號密碼，可快速登入
      // 學習重點：
      // 1. localStorage的應用
      // 2. JSON String -> 物件 / 物件 -> JSON String

      function init() {
        // 1. 抓取DOM元素
        var loginBtn = document.getElementById('loginBtn');
        var logoutBtn = document.getElementById('logoutBtn');
        var username = document.getElementById('username');

        var myLogin = document.getElementById('myLogin');
        var account = document.getElementById('account');
        var pwd = document.getElementById('pwd');
        var rememberMe = document.getElementById('rememberMe');
        var confirm = document.getElementById('confirm');
        var cancel = document.getElementById('cancel');

        // 2. 登入 註冊click事件，顯示彈窗 myLogin
        loginBtn.addEventListener('click', function () {
          // 顯示彈窗 myLogin
          myLogin.style.display = 'block';
          let loginStr = localStorage.getItem('loginStr');
          // （進階）詢問localStorage 是否有變數loginStr的資料？ 提示：localStorage.getItem("key")
          // 判斷loginStr是否為空字串或者null?
          if (loginStr) {
            // 物件轉成JSON String 提示：JSON.parse(str)
            let login = JSON.parse(loginStr);
            account.value = login.user;
            pwd.value = login.password;
            rememberMe.checked = true;
          }
        });

        // 3. 登出 註冊click事件
        logoutBtn.addEventListener('click', function (e) {
          e.preventDefault();
          // 取消登入者帳號
          account.value = '';
          username.innerText = '';
          // 顯示登入按鈕，隱藏登出按鈕
          logoutBtn.style.display = 'none';
          loginBtn.style.display = 'block';
        });

        // 4. 確認登入 註冊click事件
        confirm.addEventListener('click', function (e) {
          e.preventDefault();
          let user = account.value;
          let password = pwd.value;

          // 取消瀏覽器預設行為 表單送出

          // 抓取帳號與密碼

          // 驗證帳號是否為空？
          if (!user.trim()) {
            alert('帳號不可為空');
            return;
          }
          // 驗證密碼是否為空？
          if (!password.trim()) {
            alert('密碼不可為空');
            return;
          }
          // （進階）確認是否有點選RememberMe?
          var check = rememberMe.checked;
          if (check) {
            // 如果有點選RememberMe，在localStorage上存入變數loginStr
            // 產生login物件，放入帳號與密碼
            let login = {
              user: user,
              password: password,
            };
            // 物件轉成JSON String 提示：JSON.stringify(obj)
            localStorage.setItem('loginStr', JSON.stringify(login));
            // 存入localStorage的變數loginStr 提示：localStorage.setItem("key", value);
          } else {
            // 如果沒點選RememberMe，在localStorage上清除變數loginStr
            localStorage.setItem('loginStr', '');
          }

          // 登入成功！ 取消彈窗 myLogin
          alert('登入成功');
          myLogin.style.display = 'none';
          // 填入登入者帳號
          username.innerText = user;
          // 隱藏登入按鈕，顯示登出按鈕
          logoutBtn.style.display = 'block';
          loginBtn.style.display = 'none';
          // 清空帳號與密碼
          account.value = '';
          pwd.value = '';
        });
      }
      // 5. 取消登入 註冊click事件
      cancel.addEventListener('click', function (e) {
        // 取消瀏覽器預設行為 表單送出
        e.preventDefault();
        // 取消彈窗 myLogin
        myLogin.style.display = 'none';
      });

      window.onload = init;
    </script>
  </body>
</html>

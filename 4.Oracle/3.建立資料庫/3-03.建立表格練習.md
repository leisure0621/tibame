<h1 id="top">目錄</h1>

- [1. 題目](#s1)
- [2. 解答](#s2)

---

# <a id="s1" class="md-title" href="#top">1. 題目</a>

- 建立 CUSTOMER 並設定 BOOK 中的內容
- 建立 BOOK 並關聯 PUBLISHER_ID 至 PUBLISHER
- 建立 ORDER_MASTER 並關聯 CUSTOMER_ID 至 CUSTOMER
- 建立 ORDER_DETAIL 並關聯 ORDER_ID 至 ORDER_MASTER、並關聯 ISBN 至 BOOK

# <a id="s2" class="md-title" href="#top">2. 解答</a>

- 建立 CUSTOMER 並設定 BOOK 中的內容

  ```sql
  CREATE TABLE CUSTOMER(
      CUSTOMER_ID VARCHAR2(40) PRIMARY KEY NOT NULL,
      CUSTOMER_NAME VARCHAR2(40) NOT NULL,
      PHONE VARCHAR2(40) NOT NULL,
      ADDRESS VARCHAR2(200) NOT NULL
  );
  ```

- 建立 BOOK 並關聯 PUBLISHER_ID 至 PUBLISHER

  ```sql
  CREATE TABLE BOOK(
      ISBN CHAR(13) PRIMARY KEY NOT NULL,
      BOOK_NAME VARCHAR2(200) NOT NULL,
      PRICE NUMBER(8,2) CHECK (PRICE >= 0),
      AUTHOR VARCHAR2(200),
      PUBLICATION_DATE DATE,
      PUBLISHER_ID VARCHAR2(40),
      FOREIGN KEY (PUBLISHER_ID) REFERENCES PUBLISHER(PUBLISHER_ID)
  );
  ```

- 建立 ORDER_MASTER 並關聯 CUSTOMER_ID 至 CUSTOMER

  ```sql
  CREATE TABLE ORDER_MASTER (
      ORDER_ID NUMBER(10) PRIMARY KEY NOT NULL,
      CUSTOMER_ID VARCHAR2(40),
      ORDER_DATE TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
      FOREIGN KEY (CUSTOMER_ID) REFERENCES CUSTOMER(CUSTOMER_ID)
  );
  ```

- 建立 ORDER_DETAIL 並關聯 ORDER_ID 至 ORDER_MASTER、並關聯 ISBN 至 BOOK

  - TABLE 中含 REFERENCES 則 `ORDER_DETAIL`(父) 、`BOOK`(子)、`ORDER_MASTER`(子)
  - `ORDER_DETAIL`(父) 的 `ORDER_ID`、`ISBN` 資料要先建立，才可順利創建 `BOOK`(子) 與 `ORDER_MASTER`(子)<br><br>

  ```sql
  CREATE TABLE ORDER_DETAIL (
      ORDER_ID NUMBER(10) PRIMARY KEY NOT NULL,
      ISBN CHAR(13) NOT NULL,
      QUANTITY NUMBER(8) NOT NULL,
      FOREIGN KEY (ORDER_ID) REFERENCES ORDER_MASTER(ORDER_ID),
      FOREIGN KEY (ISBN) REFERENCES BOOK(ISBN)
  );
  ```

---

參考鏈接

- [Oracle| Oracle 大小写敏感问题](https://blog.csdn.net/u011479200/article/details/89025708)

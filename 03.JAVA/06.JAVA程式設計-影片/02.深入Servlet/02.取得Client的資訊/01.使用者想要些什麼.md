<h1 id="top">目錄</h1>

- [1. 取得 client 端機器資訊](#s1)
- [2. 取得取得 Client 的資訊測試](#s2)

---

# <a id='s1' class='md-title' href='#top'>1. 取得 client 端機器資訊</a>

- **String <span style='color:red;'>req.</span><span style='color:blue;'>getRemoteAddr()</span>**
  - 取得 client 端機器的 「**IP**」
- **String <span style='color:red;'>req.</span><span style='color:blue;'>getRemoteHost()</span>**
  - 取得 client 端機器的 「**主機名稱**」

> 註: 以上 req 指 ServletRequest 型別物件

- **client 端使用者想要些什麼? (<span style='color:red;'>request parameter</span> 請求參數)**

- **String <span style='color:red;'>req.</span><span style='color:blue;'>getParameter(String name)</span>** <bikao>★</bikao>
  - 取得 client 端送來的某請求參數的「**值**」
- **String <span style='color:red;'>req.</span><span style='color:blue;'>getParameterValues(String name)</span>** <bikao>★</bikao>
  - 取得 client 端送來的某請求參數的「**值**」，以字串陣列傳回
- **String <span style='color:red;'>req.</span><span style='color:blue;'>getParameterNames(String name)</span>** <bikao>★</bikao>
  - 列舉 client 端送來那些「**請求參數名稱**」(不曉得有哪些『請求參數名稱』時使用)
- **String <span style='color:red;'>req.</span><span style='color:blue;'>getQueryString(String name)</span>**
  - 取得查詢字串(Query String)(URL 後端<u> **?** </u>後面之字串)

> 註:
> getParameter(String name) 是 getParameterValues(String name) 傳回陣列中的第一個值
> 前 2 個 methods 已經取得 Query String，並且加以分解成個別參數，因此最後一個 getQueryString() 很少用

# <a id='s2' class='md-title' href='#top'>2. 取得取得 Client 的資訊測試</a>

- 範例程式路徑

```cs
完整檔案: "/WebApp_ch04/src/servlet_examples/ParameterSnoop.java"
```

- 程式片段(取得 client 端送來的所有 **<span style='color:red;'>請求參數</span>** 名稱、值)

```java
Enumeration en = req.getParameterNames();
while (en.hasMoreElements()) {
  String name = (String) en.nextElement();
  String values[] = req.getParameterValues(name);
  if (values != null) {
    for (int i = 0; i < values.length; i++) {
      out.println(name + " [" + i + "]: " + values[i]);
      System.out.println(name + " [" + i + "]: " + values[i]);
    }
  }
}
```

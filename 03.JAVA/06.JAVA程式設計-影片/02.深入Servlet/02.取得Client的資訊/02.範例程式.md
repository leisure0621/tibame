<h1 id="top">目錄</h1>

- [1. getParameterValues 與 getParameterNames 範例](#s1)

---

# <a id='s1' class='md-title' href='#top'>1. getParameterValues 與 getParameterNames 範例</a>

- **範例程式**

```cs
範例程式: "/WebApp_ch04/src/servlet_examples/ParameterSnoop.java"
```

- **程式內容**

```java
package servlet_examples;

import java.io.*;
import java.util.*;
import javax.servlet.*;
import javax.servlet.http.*;

public class ParameterSnoop extends HttpServlet {
  private static final long serialVersionUID = 1L;

  public void doGet(HttpServletRequest req, HttpServletResponse res)
      throws ServletException, IOException {

    req.setCharacterEncoding("UTF-8");
    res.setContentType("text/plain; charset=UTF-8");
    PrintWriter out = res.getWriter();

    out.println("Query String:");
    out.println(req.getQueryString());
    out.println();

    out.println("Request Parameters:");
    Enumeration en = req.getParameterNames();
    while (en.hasMoreElements()) {
      String name = (String) en.nextElement();
      String values[] = req.getParameterValues(name);
      if (values != null) {
        for (int i = 0; i < values.length; i++) {
          out.println(name + " [" + i + "]: " + values[i]);
          System.out.println(name + " [" + i + "]: " + values[i]);
        }
      }
    }
  }

  public void doPost(HttpServletRequest req, HttpServletResponse res)
      throws ServletException, IOException {
    doGet(req, res);
  }
}
```

- 模擬三個單選項

```cs
"WebApp_ch04/ParameterSnoop?name1=peter1&name2=peter2&name3=peter3"
```

```cs
Query String:
name1=peter1&name2=peter2&name3=peter3

Request Parameters:
name1 [0]: peter1
name2 [0]: peter2
name3 [0]: peter3
```

- 模擬三個單選項

```cs
"WebApp_ch04/ParameterSnoop?name1=peter1&name2=peter2&name3=peter3"
```

```cs
Query String:
name1=peter1&name2=peter2&name3=peter3

Request Parameters:
name1 [0]: peter1
name2 [0]: peter2
name3 [0]: peter3
```

- 模擬一個多選，一個單選

```cs
"/WebApp_ch04/ParameterSnoop?name1=peter1&name1=peter2&name3=peter3"
```

```cs
Query String:
name1=peter1&name1=peter2&name3=peter3

Request Parameters:
name1 [0]: peter1
name1 [1]: peter2
name3 [0]: peter3
```

<p><img src='./image/05-11_01_p94.png'></p>

<p><img src='./image/05-11_02_p93.png'></p>

- 1xx 2xx 專案碼用處不多
- 3xx 4xx 5xx 用的機會挺多
  - 3xx
    - `302` 重要
  - 4xx
    - 403
      - 專案碼沒取乾淨
    - 400
      - 沒打 https，以至於錯誤連結
    - `404` 重要
  - 5xx
    - `500` 重要
    - 502
    - 504
    - 505 網工工作
- 快取用的也少

<p><img src='./image/05-11_04_p259.png'></p>

<p><img src='./image/05-11_07_p260.png'></p>

<p><img src='./image/05-11_05_p97.png'></p>

<p><img src='./image/05-11_06_p72.png'></p>

<p><img src='./image/05-11_08_code.png'></p>

<p><img src='./image/05-11_09_p94.png'></p>

<p><img src='./image/05-11_10_p57.png'></p>

<p><img src='./image/05-11_11_p94.png'></p>

<p><img src='./image/05-11_12_.png'></p>

<p><img src='./image/05-11_15_p101_.png'></p>

<p><img src='./image/05-11_16_p103_.png'></p>

<p><img src='./image/05-11_17_p104_.png'></p>

- Class 是 Java Reflection 基礎

<p><img src='./image/05-11_18_p105.png'></p>

- setHeader(key, value) ，即 map 物件
  - 特性: 新值覆蓋舊值

<p><img src='./image/05-11_21_p95.png'></p>

<p><img src='./image/05-11_22_p97.png'></p>

<p><img src='./image/05-11_23_p98.png'></p>

<p><img src='./image/05-11_24_p99.png'></p>

- JSP

<p><img src='./image/05-11_25_p96.png'></p>

<p><img src='./image/05-11_26_p96.png'></p>

<p><img src='./image/05-11_27_p162.png'></p>

<p><img src='./image/05-11_28_p162.png'></p>

- 用來提供整個網頁的說明
- pageEncoding 用來通知伺服器，所以網頁邊碼不會因此改變(查看 p.65)

<p><img src='./image/05-11_29_p151.png'></p>

- pageEncoding 屬性有忽略掉沒註冊，則若 contentType 設定的 charset 有值，就會套用此值通知伺服器
- contentType 瀏覽器
  - 改 java 顯示
- pageEncoding 伺服器
  - 改 html 顯示

<p><img src='./image/05-11_30_p163.png'></p>

- 總結
  - 程式 瀏覽器 伺服器 編輯器 環境
  - 推薦 Big5
  - 工具顯示
    - eclipse 自動轉換格式文字
      - 專題開發用
    - UltraEdit 原始格式
    - 記事本
      - 會有 BOM，微軟傑作
    - Notepad++
  - 搭伺服器時步驟要完整

# Content 資料的共通性

- `text/html;`，都有 content

```cs
範例路徑: "/SL314/src/servlet_examples/HelloWorld.java"
```

- `res.setContentType("text/html; charset=Big5");`

```java
package servlet_examples;

import java.io.*;
import javax.servlet.*;
import javax.servlet.http.*;

public class HelloWorld extends HttpServlet {
  int count = 0;
  public void doGet(HttpServletRequest req, HttpServletResponse res)
                               throws ServletException, IOException {

    res.setContentType("text/html; charset=Big5");
    PrintWriter out = res.getWriter();

    out.println("<HTML>");
    out.println("<HEAD><TITLE>Hello World</TITLE></HEAD>");
    out.println("<BODY>");
    out.println("<BIG>Hello World , 世界你好 !</BIG>="+getServletContext().getAttribute(ServletContext.TEMPDIR));
    out.println("</BODY></HTML>");
  }
}
```

---

- `<meta http-equiv="Content-Type" content="text/html; charset=BIG5" />`

```cs
範例路徑: "/SL314/WebContent/form.html"
```

```html
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=BIG5" />
    <title>form.html</title>
  </head>
  <body>
    <form method="get" action="Hello">
      請輸入您的名字!
      <p>
        <input type="checkbox" name="name" value="peter1" />
        <input type="checkbox" name="name" value="peter2" />
        <input type="checkbox" name="name" value="peter3" />
      </p>
      <input type="SUBMIT" />
    </form>
  </body>
</html>
```

---

- `<%@ page contentType="text/html; charset=Big5" pageEncoding="Big5"%>`

```cs
範例路徑: "/SL314/WebContent/form1.jsp"
```

```java
<%@ page contentType="text/html; charset=Big5" pageEncoding="Big5"%>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=BIG5">
<TITLE>form1.jsp</TITLE>
</HEAD>
<BODY>

<FORM METHOD="get" ACTION="Hello">

    請輸入您的名字!
    <INPUT TYPE="TEXT" NAME="name" VALUE="peter1吳永志"><P>
    <INPUT TYPE="SUBMIT">
 </FORM>

<img src="images/tomcat.gif">

<table border="1" bordercolor="blue">
   <tr><th>數字</th><th>平方</th></tr>

   <% for (int i=0 ; i<10; i++) { %>
     <tr><td><%= i %></td><td><%= i*i %></td></tr>
   <% } %>

</table>

</BODY>
</HTML>
```

# 映射處理 範例

- 動態代理

<p><img src='./image/05-11_19.png'></p>

<p><img src='./image/05-11_20.png'></p>

# 自訂錯誤訊息 範例

- 自訂錯誤信息

<p><img src='./image/05-11_13_code.png'></p>

- 自訂錯誤信息與提示

<p><img src='./image/05-11_14_code.png'></p>

1. 瀏覽器處裡
   1. 丟垃圾隨便丟
2. 伺服器處裡
   1. 丟垃圾有分類
3. 自己加入處裡
   1. 趁阿姨不在隨便丟
4. 網路忙線中
   1. 狀態碼處裡
5. servelt 處裡
6. 抽出細項

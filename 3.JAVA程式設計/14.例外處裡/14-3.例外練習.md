# 例外作法

- 自訂例外方法

```java
package section2_Q1;

public class CubeException extends Exception {
  public CubeException() {
  }

  public CubeException(String message) {
    super(message);
  }
}
```

- 設定例外處裡

```java
package section2_Q1;

public class Cube {
  private double length;

  public Cube() {
  }

  // 因為呼叫的方法有丟例外，所以建構子也要針對方法可能發生的例外做處理
  public Cube(double length) throws CubeException {
    setLength(length);
  }

  public double getLength() {
    return length;
  }

  public void setLength(double length) throws CubeException {
    if (length > 0)
      this.length = length;
    else
      throw new CubeException("不能為0或負數");
  }

  public double getVolume() {
    return Math.pow(length, 3);
  }
}
```

- 實現功能

```java
package section2_Q1;

import java.util.Scanner;

public class CubeTest {
  public static void main(String[] args) throws CubeException {
    while (true) {
      Scanner sc = new Scanner(System.in);

      if (!sc.hasNextDouble())
        throw new CubeException("不能為文字");

      double length = sc.nextDouble();

      // 直接傳建構子
      try {
        Cube cu = new Cube(length);
        System.out.println(cu.getVolume());
      } catch (CubeException e) {
        e.printStackTrace();
      }

      // 使用方法
      try {
        Cube cu = new Cube();
        cu.setLength(length);

        System.out.println(cu.getVolume());
      } catch (CubeException e) {
        e.printStackTrace();
      }
    }
  }
}
```

- 用例外來設定方法的原因是 _可能會有利外發生，所以會更小心的處理例外_

- 用 java 提供的例外處裡也會 _讓使用時更彈性_

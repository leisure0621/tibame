<h1 id="top">目錄</h1>

- [1. 建立表格並設定欄位](#s1)
- [2. 顯示指定表格定義](#s2)
- [3. 列出當前用戶所有表格](#s3)
- [4. 建立表格](#s4)
- [5.修改表格名稱](#s5)
- [6. 新增表格欄位](#s6)
- [7. 修改/刪除預設值](#s7)
- [8. 修改/刪除預設值](#s8)
- [9. 修改欄位類型](#s9)
- [10. 刪除欄位](#s10)
- [11. 建立 FOREIGN KEY(外鍵)](#s11)
- [12. 移除 FOREIGN KEY(外鍵)](#s12)
- [13. 欄位改為不可/可為空值](#s13)
- [14. 刪除表格](#s14)

---

<h1>常用指令</h1>

### <a id="s1" class="md-title" href="#top">1. 建立表格並設定欄位</a>

```sql
-- CREATE TABLE - PK (不想自訂PK constraint名稱，可以直接在欄位後面加PK設定)
CREATE TABLE PUBLISHER (
  PUBLISHER_ID VARCHAR2(40) PRIMARY KEY NOT NULL,
  PUBLISHER_NAME VARCHAR2(40) NOT NULL,
  CONTACT VARCHAR2(40),
  PHONE VARCHAR2(40) NOT NULL,
  CREATE_TIME TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

```sql
-- 要建立複合PK(以逗號區隔)或自訂PK constraint名稱必須列在後面
CREATE TABLE PUBLISHER (
  PUBLISHER_ID VARCHAR2(40) NOT NULL,
  PUBLISHER_NAME VARCHAR2(40) NOT NULL,
  CONTACT VARCHAR2(40),
  PHONE VARCHAR2(40) NOT NULL,
  CREATE_TIME TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  CONSTRAINT PK_PUBLISHER PRIMARY KEY (PUBLISHER_ID)
);
```

### <a id="s2" class="md-title" href="#top">2. 顯示指定表格定義</a>

```sql
-- 顯示指定表格定義
DESCRIBE PUBLISHER;
```

### <a id="s3" class="md-title" href="#top">3. 列出當前用戶所有表格</a>

```sql
-- 列出當前用戶所有表格
SELECT table_name FROM user_tables;
```

### <a id="s4" class="md-title" href="#top">4. 建立表格</a>

```sql
-- CREATE TABLE - FK (要自訂FK constraint名稱必須列在後面)
CREATE TABLE BOOK (
  ISBN CHAR(13) PRIMARY KEY NOT NULL,
  BOOK_NAME VARCHAR2(200) NOT NULL,
  PRICE NUMBER(8,2) CHECK (PRICE >= 0),
  AUTHOR VARCHAR2(200),
  PUBLICATION_DATE DATE,
  PUBLISHER_ID VARCHAR2(40),
  CONSTRAINT FK_BOOK_PUBLISHER
  FOREIGN KEY (PUBLISHER_ID) REFERENCES PUBLISHER(PUBLISHER_ID)
);
```

```sql
-- 不想自訂FK constraint名稱，可以直接在欄位後面加REFERENCES設定
CREATE TABLE BOOK (
  ISBN CHAR(13) PRIMARY KEY NOT NULL,
  BOOK_NAME VARCHAR2(200) NOT NULL,
  PRICE NUMBER(8,2) CHECK (PRICE >= 0),
  AUTHOR VARCHAR2(200),
  PUBLICATION_DATE DATE,
  PUBLISHER_ID VARCHAR2(40) REFERENCES PUBLISHER(PUBLISHER_ID)
);
```

### <a id="s5" class="md-title" href="#top">5. 修改表格名稱</a>

```sql
-- 表格更名
ALTER TABLE BOOK RENAME TO BOOKS;
```

### <a id="s6" class="md-title" href="#top">6. 新增表格欄位</a>

```sql
-- 新增欄位
ALTER TABLE BOOK ADD LANGUAGE VARCHAR2(40);
```

### <a id="s7" class="md-title" href="#top">7. 修改表格欄位名稱</a>

```sql
-- 欄位更名
ALTER TABLE BOOK RENAME COLUMN LANGUAGE TO LANGUAGES;
```

### <a id="s8" class="md-title" href="#top">8. 修改/刪除預設值</a>

- 資料若要設定為空，則要設置成 `NULL` 不可設定為 `''`

```sql
-- 修改/刪除欄位預設值
ALTER TABLE BOOK MODIFY LANGUAGES DEFAULT 'Chinese';
ALTER TABLE BOOK MODIFY LANGUAGES DEFAULT NULL;
```

### <a id="s9" class="md-title" href="#top">9. 修改欄位類型</a>

```sql
-- 修改欄位類型
ALTER TABLE BOOK MODIFY LANGUAGES VARCHAR2(20);
```

### <a id="s10" class="md-title" href="#top">10. 刪除欄位</a>

```sql
-- 刪除欄位
ALTER TABLE BOOK DROP COLUMN LANGUAGES;
```

### <a id="s11" class="md-title" href="#top">11. 建立 FOREIGN KEY(外鍵)</a>

```sql
-- 建立FK
ALTER TABLE BOOK
ADD CONSTRAINT FK_BOOK_PUBLISHER
FOREIGN KEY (PUBLISHER_ID) REFERENCES PUBLISHER(PUBLISHER_ID);
```

### <a id="s12" class="md-title" href="#top">12. 移除 FOREIGN KEY(外鍵)</a>

```sql
-- 移除FK
ALTER TABLE BOOK
DROP CONSTRAINT FK_BOOK_PUBLISHER;
```

### <a id="s13" class="md-title" href="#top">13. 欄位改為不可/可為空值</a>

```sql
-- 欄位改為不可/可為空值
ALTER TABLE BOOK MODIFY AUTHOR NOT NULL;
ALTER TABLE BOOK MODIFY AUTHOR NULL;
```

### <a id="s14" class="md-title" href="#top">14. 刪除表格</a>

- 若刪除表有被參照，則不可刪除

```sql
-- DROP TABLE
DROP TABLE BOOK;
DROP TABLE PUBLISHER;
```
